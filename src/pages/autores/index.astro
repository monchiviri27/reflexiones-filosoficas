---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

const autores = await getCollection('autores');
---

<BaseLayout title="Autores">
  <div class="max-w-6xl mx-auto">
    <div class="mb-12">
      <h1 class="text-4xl font-display font-bold text-filosofia-primario mb-4">
        Autores literarios
      </h1>
      <p class="text-lg text-gray-600">
        Exploramos obras de diversos autores que han abordado temas filos√≥ficos en su literatura.
        Desde cl√°sicos hasta contempor√°neos, cada autor aporta una perspectiva √∫nica.
      </p>
    </div>
    
    {autores.length > 0 ? (
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {autores.map(autor => (
          <a 
            href={`/autores/${autor.id}`}
            class="bg-white rounded-xl border border-gray-200 p-6 hover:shadow-lg hover:border-filosofia-acento transition-all group"
          >
            <div class="flex items-start gap-4">
              {autor.data.imagen ? (
                <img 
                  src={autor.data.imagen} 
                  alt={autor.data.nombre}
                  class="w-16 h-16 object-cover rounded-full"
                />
              ) : (
                <div class="w-16 h-16 bg-filosofia-primario/10 rounded-full flex items-center justify-center text-2xl">
                  {autor.data.nombre.charAt(0)}
                </div>
              )}
              
              <div class="flex-1">
                <h3 class="text-xl font-display font-semibold text-filosofia-primario group-hover:text-filosofia-acento mb-2">
                  {autor.data.nombre}
                </h3>
                <div class="flex items-center gap-2 text-sm text-gray-500 mb-3">
                  <span>{autor.data.epoca}</span>
                  <span>‚Ä¢</span>
                  <span>{autor.data.nacionalidad}</span>
                </div>
                <p class="text-gray-600 text-sm line-clamp-2">
                  {autor.data.biografia.substring(0, 150)}...
                </p>
              </div>
            </div>
          </a>
        ))}
      </div>
    ) : (
      <div class="text-center py-16 bg-white rounded-lg border">
        <div class="text-6xl mb-4">üìö</div>
        <h3 class="text-xl font-display font-semibold text-gray-700 mb-2">
          Pr√≥ximamente: Autores
        </h3>
        <p class="text-gray-600">
          Estamos preparando la secci√≥n de autores. Mientras tanto, explora las obras disponibles.
        </p>
        <a href="/obras" class="btn-primario mt-6 inline-block">
          Ver obras
        </a>
      </div>
    )}
  </div>
</BaseLayout>